<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>How it works &mdash; catalight 0.0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Alicat MFCs" href="equipment_guides.html" />
    <link rel="prev" title="Welcome to catalight!" href="intro.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            catalight
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Welcome to catalight!</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro.html#installation-instructions">Installation instructions:</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">How it works</a></li>
<li class="toctree-l1"><a class="reference internal" href="#usage">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#scripting">Scripting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#graphical-user-interface">Graphical User interface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#equipment-specific-guides">Equipment Specific Guides:</a><ul>
<li class="toctree-l2"><a class="reference internal" href="equipment_guides.html">Alicat MFCs</a></li>
<li class="toctree-l2"><a class="reference internal" href="equipment_guides.html#harrick-heater-watlow">Harrick Heater/Watlow</a></li>
<li class="toctree-l2"><a class="reference internal" href="equipment_guides.html#thorlabs-laser-diode-driver">ThorLabs Laser Diode Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="equipment_guides.html#power-meter">Power meter</a></li>
<li class="toctree-l2"><a class="reference internal" href="equipment_guides.html#sri-gas-chromatograph">SRI Gas chromatograph</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#data-analysis">Data Analysis:</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data_analysis.html">The main toolboxes</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_analysis.html#the-gcdata-class">The GCData class</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_analysis.html#helper-scripts">Helper scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_analysis.html#running-a-calibration">Running a calibration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#auxiliary-tools">Auxiliary tools:</a><ul>
<li class="toctree-l2"><a class="reference internal" href="auxiliary_tools.html">Laser Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxiliary_tools.html#pressure-drop-measurement">Pressure drop measurement</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxiliary_tools.html#gc-delay-measurement">GC delay measurement</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxiliary_tools.html#mfc-port-connection-tester">MFC Port Connection Tester</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxiliary_tools.html#heater-performance-measurements">Heater Performance measurements</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development Guide:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="developer_guide.html">Providing feedback</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_guide.html#developing-equipment-drivers">Developing equipment drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_guide.html#areas-for-future-development">Areas for Future Development:</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_guide.html#writing-documentation">Writing Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests.html">Tests</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">catalight</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">How it works</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/user_guide.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="how-it-works">
<h1>How it works<a class="headerlink" href="#how-it-works" title="Permalink to this heading"></a></h1>
<figure class="align-default" id="id2">
<a class="reference internal image-reference" href="_images/code_overview.png"><img alt="_images/code_overview.png" src="_images/code_overview.png" style="width: 800px;" /></a>
<figcaption>
<p><span class="caption-text">A graphical representation of the basic experimental process. Equipment is initialized and passed to experiment objects. Experiments are defines, then run one by one. Data analysis can be performed after experiments are completed.</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p class="linemarker linemarker-8">Before launching into any code or GUI programs, lets talk a bit about the philisophy behind catalight.
The heart of catalight is the <a class="reference internal" href="_autosummary/catalight.equipment.experiment_control.Experiment.html#catalight.equipment.experiment_control.Experiment" title="catalight.equipment.experiment_control.Experiment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Experiment</span></code></a> class. An instance of the <a class="reference internal" href="_autosummary/catalight.equipment.experiment_control.Experiment.html#catalight.equipment.experiment_control.Experiment" title="catalight.equipment.experiment_control.Experiment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Experiment</span></code></a> class can be thought of as a literal experiment you’d like to perform. These python objects, once fully initialized, contain all of the instructions to send to equipment and actuate a desired experimental procedure.</p>
<div class="admonition-the-basic-process-outline admonition">
<p class="admonition-title">The Basic Process Outline</p>
<ol class="loweralpha simple">
<li><p class="linemarker linemarker-13">The user initializes the desired equipment.</p></li>
<li><p class="linemarker linemarker-14">That equipment is passed to each instance of <a class="reference internal" href="_autosummary/catalight.equipment.experiment_control.Experiment.html#catalight.equipment.experiment_control.Experiment" title="catalight.equipment.experiment_control.Experiment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Experiment</span></code></a>, either on creation or after.</p></li>
<li><p class="linemarker linemarker-15">The user provides each instance of Experiment with the desired experimental parameters.</p></li>
<li><p class="linemarker linemarker-16">When ready, the user calls the <a class="reference internal" href="_autosummary/catalight.equipment.experiment_control.Experiment.html#catalight.equipment.experiment_control.Experiment.run_experiment" title="catalight.equipment.experiment_control.Experiment.run_experiment"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run_experiment()</span></code></a> method for each Experiment instance. We refer to multiple experiments as a “study”</p>
<ul class="simple">
<li><p class="linemarker linemarker-18">The experiment proceeds in a series of steps, looping through the independent variable values provided</p></li>
<li><p class="linemarker linemarker-19">The equipment is set to the appropriate condition, waits for steady state, then collects data</p></li>
<li><p class="linemarker linemarker-20">Collected data is saved in a consisten heirarchy after each data collection step</p></li>
<li><p class="linemarker linemarker-21">On completion, the equipment is set to a safe condition</p></li>
</ul>
</li>
<li><p class="linemarker linemarker-22">If there are more Experiment objects in the study, the next one starts. Otherwise the program finishes and the user can run data analysis using the tools in the analysis subpackage.</p></li>
</ol>
</div>
<p class="linemarker linemarker-24"><strong>Thats the majority of what you need to know!</strong> The rest of this package is comprised of tools for interacting with the Experiment object and resulting data. The <a class="reference internal" href="#gui"><span class="std std-ref">usage section</span></a> describes how the user can create and modify experiment objects either using the GUI interface or through scripting. Both are equally valid. Scripting provides more flexibility and is easier to change when trying to get the project up and running on your own equipment. The GUI version can be easier to use provided you can configure it for your specific instrument. A major benefit of the GUI interface is the ability to control the equipment manually and in real-time. This is extremely helpful when refilling the reactor, for example, as you can control the gas flow conveniently.</p>
<p class="linemarker linemarker-26">A major task will be configuring and connecting your unique instruments. See <a class="reference internal" href="#equipment"><span class="std std-ref">Equipment Specific Guides</span></a> to see how the currently supported instruments are connected. If you have the same instruments, great! You can directly follow those guides and proceed with your experiments. If you don’t, no worries! Follow our <a class="reference internal" href="developer_guide.html"><span class="doc">development guide</span></a> for more tips on getting started with building your own equipment driver.</p>
<p class="linemarker linemarker-28">After connecting your equipment and running experiments with either the GUI or scripts, you’ll want to run some data analysis. Data output from experiments performed with catalight follow a uniform structrue (see figure below). If you are having trouble or don’t want to use our code for automating your experiments, you can also make use of our analysis subpackage by structuring your data in a similar fashion (you can create data structures by creating a matching <a class="reference internal" href="_autosummary/catalight.equipment.experiment_control.Experiment.html#catalight.equipment.experiment_control.Experiment" title="catalight.equipment.experiment_control.Experiment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Experiment</span></code></a> and using the <a class="reference internal" href="_autosummary/catalight.equipment.experiment_control.Experiment.html#catalight.equipment.experiment_control.Experiment.create_dirs" title="catalight.equipment.experiment_control.Experiment.create_dirs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_dirs()</span></code></a> method). See the <a class="reference internal" href="data_analysis.html"><span class="doc">data analysis guide</span></a> for more detailed instructions about the analysis subpackage.</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Example of the data structure saved after running experiments (a study)</span><a class="headerlink" href="#id3" title="Permalink to this code"></a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sample_name
├── Experiment1
│   ├── data
│   │    ├── 1 &quot;condition 1&quot;
│   │    ├── 2 &quot;condition 2&quot;
│   │    └── 3 &quot;condition 3&quot;
│   │        ├── FID01.ASC
│   │        ├── FID01.CHR
│   │        ├── FID01.THU
│   │        ├── FID02.ASC
│   │        ├── FID02.CHR
│   │        ├── FID02.THU
│   │        ⋮
│   │        ├── FID.JPG
│   │        ├── FID.RES
│   │        └── CH1_FID.LOG
│   ├── results
│   │   ├── avg_conc_plot.svg
│   │   ├── Conv_Sel_plot.svg
│   │   ├── run_num_plot.svg
│   │   ├── avg_conc.csv
│   │   ├── std_conc.csv
│   │   └── concentractions.npy
│   └── expt_log.txt
├── Experiment2
├── Experiment3
│   ⋮
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">Contents of expt_log.txt, generated each time and experiment is run.</span><a class="headerlink" href="#id4" title="Permalink to this code"></a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Experiment Date = 20221212
Experiment Type = temp_sweep
Experiment Name = 0.0mW_0.0C2H2_1.0C2H2_5.0H2_94.0Arfrac_5.0sccm
Sample Name = 20221212_Ag10020.0
Temperature [K] = [300.0, 320.0, 340.0, 360.0, 380.0, 400.0, 420.0]
Power [mW] = [0.0]
Gas 1 type = C2H2
Gas 2 type = C2H2
Gas 3 type = H2
Gas 4 type = Ar
Gas Composition [frac] = [[0.0, 1.0, 5.0, 94.0]]
Total Flow [sccm] = [5.0]
</pre></div>
</div>
</div>
</section>
<section id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this heading"></a></h1>
<section id="scripting">
<span id="id1"></span><h2>Scripting<a class="headerlink" href="#scripting" title="Permalink to this heading"></a></h2>
<p class="linemarker linemarker-83">The entire packages was initially designed with scripted interfacing in mind. All available tools can be accessed in this way, and the interested user will likely find scripted control easier to integrate with new hardware than changing the GUI’s source code to accomadate new equipment.</p>
<p class="linemarker linemarker-85">Here, we show a few examples of what scripted interaction looks like. In this first section, we define some helpful functions to be used later in the main script.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">initialize_equipment</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Initialize all the hardware connections&quot;&quot;&quot;</span>
    <span class="n">gc_connector</span> <span class="o">=</span> <span class="n">GC_Connector</span><span class="p">(</span><span class="s1">&#39;ctrl_file_path&#39;</span><span class="p">)</span>
    <span class="n">laser_controller</span> <span class="o">=</span> <span class="n">Diode_Laser</span><span class="p">()</span>
    <span class="n">gas_controller</span> <span class="o">=</span> <span class="n">Gas_System</span><span class="p">()</span>
    <span class="n">heater</span> <span class="o">=</span> <span class="n">Heater</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">gc_connector</span><span class="p">,</span> <span class="n">laser_controller</span><span class="p">,</span> <span class="n">gas_controller</span><span class="p">,</span> <span class="n">heater</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">shut_down</span><span class="p">(</span><span class="n">eqpt_list</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Run the shut_down() method for each piece of hardware&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Shutting Down Equipment&#39;</span><span class="p">)</span>
    <span class="n">gc_connector</span><span class="p">,</span> <span class="n">laser_controller</span><span class="p">,</span> <span class="n">gas_controller</span><span class="p">,</span> <span class="n">heater</span> <span class="o">=</span> <span class="n">eqpt_list</span>
    <span class="n">laser_controller</span><span class="o">.</span><span class="n">shut_down</span><span class="p">()</span>
    <span class="n">heater</span><span class="o">.</span><span class="n">shut_down</span><span class="p">()</span>
    <span class="n">gas_controller</span><span class="o">.</span><span class="n">shut_down</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">run_study</span><span class="p">(</span><span class="n">expt_list</span><span class="p">,</span> <span class="n">eqpt_list</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Call the run_experiment() method for each experiment in a loop&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">expt</span> <span class="ow">in</span> <span class="n">expt_list</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">expt</span><span class="o">.</span><span class="n">run_experiment</span><span class="p">()</span>

        <span class="k">except</span><span class="p">:</span>  <span class="c1"># If there are any errors, shut the equipment down</span>
            <span class="n">shut_down</span><span class="p">(</span><span class="n">eqpt_list</span><span class="p">)</span>
            <span class="k">raise</span>
</pre></div>
</div>
<p class="linemarker linemarker-115">Next, we need to call these functions, create experiments objects, and define them accordingly. Acceptable experiments types are defined in the current version of <a class="reference internal" href="_autosummary/catalight.equipment.experiment_control.Experiment.html#catalight.equipment.experiment_control.Experiment.expt_list" title="catalight.equipment.experiment_control.Experiment.expt_list"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Experiment.expt_list</span></code></a>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p class="linemarker linemarker-118">Expt Name</p></th>
<th class="head"><p class="linemarker linemarker-118">Independent Variable</p></th>
<th class="head"><p class="linemarker linemarker-118">Active Status</p></th>
<th class="head"><p class="linemarker linemarker-118">Units</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p class="linemarker linemarker-120">‘temp_sweep’</p></td>
<td><p class="linemarker linemarker-120">‘temp’</p></td>
<td><p class="linemarker linemarker-120">False</p></td>
<td><p class="linemarker linemarker-120">‘K’</p></td>
</tr>
<tr class="row-odd"><td><p class="linemarker linemarker-122">‘power_sweep’</p></td>
<td><p class="linemarker linemarker-122">‘power’</p></td>
<td><p class="linemarker linemarker-122">False</p></td>
<td><p class="linemarker linemarker-122">‘mW’</p></td>
</tr>
<tr class="row-even"><td><p class="linemarker linemarker-124">‘comp_sweep’</p></td>
<td><p class="linemarker linemarker-124">‘gas_comp’</p></td>
<td><p class="linemarker linemarker-124">False</p></td>
<td><p class="linemarker linemarker-124">‘frac’</p></td>
</tr>
<tr class="row-odd"><td><p class="linemarker linemarker-126">‘flow_sweep’</p></td>
<td><p class="linemarker linemarker-126">‘tot_flow’</p></td>
<td><p class="linemarker linemarker-126">False</p></td>
<td><p class="linemarker linemarker-126">‘sccm’</p></td>
</tr>
<tr class="row-even"><td><p class="linemarker linemarker-128">‘calibration’</p></td>
<td><p class="linemarker linemarker-128">‘gas_comp’</p></td>
<td><p class="linemarker linemarker-128">False</p></td>
<td><p class="linemarker linemarker-128">‘ppm’</p></td>
</tr>
<tr class="row-odd"><td><p class="linemarker linemarker-130">‘stability_test’</p></td>
<td><p class="linemarker linemarker-130">‘temp’</p></td>
<td><p class="linemarker linemarker-130">False</p></td>
<td><p class="linemarker linemarker-130">‘min’</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p class="linemarker linemarker-133">Active status here is used during internal operations to denote which experiment is currently being run.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">eqpt_list</span> <span class="o">=</span> <span class="n">initialize_equipment</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
    <span class="n">sample_name</span> <span class="o">=</span> <span class="s1">&#39;20230202_Ag5Pd95_6wt%_3.45mg&#39;</span>
    <span class="n">main_fol</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;C:\Peak489Win10\GCDATA&#39;</span><span class="p">,</span> <span class="n">sample_name</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">main_fol</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># Creating a temperature sweep experiment</span>
    <span class="n">expt1</span> <span class="o">=</span> <span class="n">Experiment</span><span class="p">(</span><span class="n">eqpt_list</span><span class="p">)</span>
    <span class="n">expt1</span><span class="o">.</span><span class="n">expt_type</span> <span class="o">=</span> <span class="s1">&#39;temp_sweep&#39;</span>
    <span class="c1"># Inputs all get passed as lists</span>
    <span class="n">expt1</span><span class="o">.</span><span class="n">temp</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">401</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
    <span class="n">expt1</span><span class="o">.</span><span class="n">gas_type</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;C2H2&#39;</span><span class="p">,</span> <span class="s1">&#39;Ar&#39;</span><span class="p">,</span> <span class="s1">&#39;H2&#39;</span><span class="p">]</span>
    <span class="n">expt1</span><span class="o">.</span><span class="n">gas_comp</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0.01</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="mf">0.06</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">]]</span>
    <span class="n">expt1</span><span class="o">.</span><span class="n">tot_flow</span> <span class="o">=</span> <span class="p">[</span><span class="mi">50</span><span class="p">]</span>
    <span class="n">expt1</span><span class="o">.</span><span class="n">sample_name</span> <span class="o">=</span> <span class="n">sample_name</span>
    <span class="c1"># Additional subfolders (like &quot;prereduction/&quot;) can be created when scripting</span>
    <span class="n">expt1</span><span class="o">.</span><span class="n">create_dirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">main_fol</span><span class="p">,</span> <span class="s1">&#39;prereduction&#39;</span><span class="p">))</span>

    <span class="c1"># Creating a composition sweep experiment</span>
    <span class="n">expt2</span> <span class="o">=</span> <span class="n">Experiment</span><span class="p">(</span><span class="n">eqpt_list</span><span class="p">)</span>
    <span class="n">expt2</span><span class="o">.</span><span class="n">expt_type</span> <span class="o">=</span> <span class="s1">&#39;comp_sweep&#39;</span>
    <span class="n">expt2</span><span class="o">.</span><span class="n">temp</span> <span class="o">=</span> <span class="p">[</span><span class="mi">340</span><span class="p">]</span>
    <span class="c1"># Here H2 is the &quot;main&quot; variable</span>
    <span class="n">P_h2</span> <span class="o">=</span> <span class="mf">0.01</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">])</span>
    <span class="c1"># c2h2 is set to a constant 1%</span>
    <span class="n">P_c2h2</span> <span class="o">=</span> <span class="mf">0.01</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">P_h2</span><span class="p">))</span>
    <span class="c1"># Ar serves as the fill gas</span>
    <span class="n">P_Ar</span> <span class="o">=</span> <span class="mi">1</span><span class="o">-</span><span class="n">P_c2h2</span><span class="o">-</span><span class="n">P_h2</span>
    <span class="c1"># Concatonenate arrays, convert to list of list</span>
    <span class="n">expt2</span><span class="o">.</span><span class="n">gas_comp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">P_c2h2</span><span class="p">,</span> <span class="n">P_Ar</span><span class="p">,</span> <span class="n">P_h2</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    <span class="n">expt2</span><span class="o">.</span><span class="n">tot_flow</span> <span class="o">=</span> <span class="p">[</span><span class="mi">50</span><span class="p">]</span>
    <span class="n">expt2</span><span class="o">.</span><span class="n">sample_name</span> <span class="o">=</span> <span class="n">sample_name</span>
    <span class="n">expt2</span><span class="o">.</span><span class="n">create_dirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">main_fol</span><span class="p">,</span> <span class="s1">&#39;postreduction&#39;</span><span class="p">))</span>

    <span class="c1"># Performing the experiment</span>
    <span class="n">expt_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">expt1</span><span class="p">,</span> <span class="n">expt2</span><span class="p">]</span>
    <span class="n">run_study</span><span class="p">(</span><span class="n">expt_list</span><span class="p">,</span> <span class="n">eqpt_list</span><span class="p">)</span>
    <span class="n">shut_down</span><span class="p">(</span><span class="n">eqpt_list</span><span class="p">)</span>
</pre></div>
</div>
<p class="linemarker linemarker-177">Thats it! Define as many experiments as you’d like, supplying a list or list of list according to the independent variable defined by the eqpt_list attribute.</p>
</section>
<section id="graphical-user-interface">
<span id="gui"></span><h2>Graphical User interface<a class="headerlink" href="#graphical-user-interface" title="Permalink to this heading"></a></h2>
<p class="linemarker linemarker-183">A graphical user interface has been developed for both the execution of experiments/hardware control and seperately the initialization of data analysis. In the current state, new user groups will need to edit some source code to utilize the GUI version of packagename, unless identical hardware is equipped. By exactly matching class methods, a great deal of code editting can be avoided by simply redefining what equipment is imported to the GUI module. See <a class="reference internal" href="developer_guide.html#future"><span class="std std-ref">Areas for Future Development</span></a> for additional details on making code changes.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p class="linemarker linemarker-185">If running the gui with Spyder change your settings to excecute in a external system terminal. Running through an iPython kernel can cause errors with threading in the current implementation.</p>
</div>
<p class="linemarker linemarker-187"><a class="reference internal" href="_autosummary/catalight.catalight_GUI.html#module-catalight.catalight_GUI" title="catalight.catalight_GUI"><code class="xref py py-mod docutils literal notranslate"><span class="pre">catalight.catalight_GUI</span></code></a></p>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/gui_live_view.png"><img alt="_images/gui_live_view.png" src="_images/gui_live_view.png" style="width: 800px;" /></a>
</figure>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/gui_manual_control.png"><img alt="_images/gui_manual_control.png" src="_images/gui_manual_control.png" style="width: 800px;" /></a>
</figure>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/gui_study_overview.png"><img alt="_images/gui_study_overview.png" src="_images/gui_study_overview.png" style="width: 800px;" /></a>
</figure>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/gui_experiment_design.png"><img alt="_images/gui_experiment_design.png" src="_images/gui_experiment_design.png" style="width: 800px;" /></a>
</figure>
</section>
</section>
<section id="equipment-specific-guides">
<span id="equipment"></span><h1>Equipment Specific Guides:<a class="headerlink" href="#equipment-specific-guides" title="Permalink to this heading"></a></h1>
<p class="linemarker linemarker-205">The purpose of this section is to demonstrate the connection process for specific pieces of equipment. This is less so a tutorial on how to use different code interfaces, and more about how we connect to the hardware in the first place. This section will describe the required python packages, external software, and source code edits necessary to connect to instruments in the first place. In nearly every circumstance, this initial connection is then wrapped by a new python class which provides slightly more convenient functions that can then interface with the rest of the package. As an example, we connect to the Watlow heater using the Watlow class from pywatlow. This class has a function to set temperature “Watlow.write()”. We further create the <a class="reference internal" href="_autosummary/catalight.equipment.harrick_watlow.heater_control.Heater.html#catalight.equipment.harrick_watlow.heater_control.Heater" title="catalight.equipment.harrick_watlow.heater_control.Heater"><code class="xref py py-class docutils literal notranslate"><span class="pre">Heater</span></code></a> to wrap over this and use Heater.ramp() to set temperatures instead which has advantages of checking we don’t go over a user defined maximum temperature, ramping the setpoint instead of heating immediatly, and others convenience options. Inside of Heater.ramp(), we eventually still use Watlow.write()! To continue with the analogy, this section is then meant to describe Watlow.write() and the examples section will describe Heater.ramp().</p>
<figure class="align-default" id="id5">
<a class="reference internal image-reference" href="_images/equipment_connections.svg"><img alt="_images/equipment_connections.svg" src="_images/equipment_connections.svg" width="800" /></a>
<figcaption>
<p><span class="caption-text">An overview of the connections used in the D-Lab system setup. Text in green indicates an installable python package, blue represents external programs, and black is hardware.</span><a class="headerlink" href="#id5" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p class="linemarker linemarker-213">The following sections describing programatically interfacing with potentially dangerous equipment. This needs to be done carefully! Start with small tests of your equipment with some manual safety precautions in place (i.e.block laser beams, know where physical power switches are for heaters, know where the off valves for gas supply lines are).</p>
</div>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="equipment_guides.html">Alicat MFCs</a></li>
<li class="toctree-l1"><a class="reference internal" href="equipment_guides.html#harrick-heater-watlow">Harrick Heater/Watlow</a></li>
<li class="toctree-l1"><a class="reference internal" href="equipment_guides.html#thorlabs-laser-diode-driver">ThorLabs Laser Diode Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="equipment_guides.html#power-meter">Power meter</a></li>
<li class="toctree-l1"><a class="reference internal" href="equipment_guides.html#sri-gas-chromatograph">SRI Gas chromatograph</a></li>
</ul>
</div>
</section>
<section id="data-analysis">
<h1>Data Analysis:<a class="headerlink" href="#data-analysis" title="Permalink to this heading"></a></h1>
<p class="linemarker linemarker-221">We have a subpackage dedicated to performing data analysis</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="data_analysis.html">The main toolboxes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data_analysis.html#analysis-plotting">analysis.plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_analysis.html#analysis-user-inputs">analysis.user_inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_analysis.html#analysis-tools">analysis.tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data_analysis.html#the-gcdata-class">The GCData class</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_analysis.html#helper-scripts">Helper scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_analysis.html#running-a-calibration">Running a calibration</a></li>
</ul>
</div>
</section>
<section id="auxiliary-tools">
<h1>Auxiliary tools:<a class="headerlink" href="#auxiliary-tools" title="Permalink to this heading"></a></h1>
<p class="linemarker linemarker-229">We also have other stuff!</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="auxiliary_tools.html">Laser Calibration</a></li>
<li class="toctree-l1"><a class="reference internal" href="auxiliary_tools.html#pressure-drop-measurement">Pressure drop measurement</a></li>
<li class="toctree-l1"><a class="reference internal" href="auxiliary_tools.html#gc-delay-measurement">GC delay measurement</a></li>
<li class="toctree-l1"><a class="reference internal" href="auxiliary_tools.html#mfc-port-connection-tester">MFC Port Connection Tester</a></li>
<li class="toctree-l1"><a class="reference internal" href="auxiliary_tools.html#heater-performance-measurements">Heater Performance measurements</a></li>
</ul>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="intro.html" class="btn btn-neutral float-left" title="Welcome to catalight!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="equipment_guides.html" class="btn btn-neutral float-right" title="Alicat MFCs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Briley Bourgeois, Claire Carlin.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>